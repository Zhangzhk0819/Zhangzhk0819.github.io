<!DOCTYPE html>
<html>
  <head>
    <!--Chord - Python wrapper around d3-chord

    This package enables the generation of Chord diagrams. They can be saved 
    directly to HTML files or displayed in a Jupyter Notebook output cell.

    Copyright 2020, Dr. Shahin Rostami
    http://shahinrostami.com
    https://github.com/shahinrostami/chord
    https://pypi.org/project/chord/
    -->
    <!--LICENSE
    Chord (https://github.com/shahinrostami/chord) generates interactive chord diagrams.
    Copyright (C) 2020  Dr. Shahin Rostami

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
    -->
  	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Chord Diagram</title>
    <!-- Google Fonts -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,900"
      rel="stylesheet"
      type="text/css"
    />

    <style>
      .tippy-content {
        font-family: "Times New Roman", Times, serif;
      }

      #chart-d019c024, #featured-chart-d019c024 {

        font-size: 6px;
        font-family: "Times New Roman", Times, serif;
        text-align: center;
        fill: #454545;
      }

      #chart-d019c024 svg, #featured-chart-d019c024 svg {
        max-width: 700.0px;
      }

      @media (min-width: 600px) {
				#chart-d019c024{
					font-size: 20px;
				}
			}
    </style>
  </head>
  <body>
    <div id="chart-d019c024" class="chord">
    </div>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script>
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src = "https://d3js.org/d3.v5.min.js";

      script.onload = function () {

        var script2 = document.createElement("script");
        script2.type = "text/javascript";
        script2.src = "https://datacrayon.com/assets/chord/script.js";
        script2.onload = function () {
          margin = {
          left: 100.0,
          top: 100.0,
          right: 100.0,
          bottom: 100.0
        };
        width = Math.min(window.innerWidth, 700.0) - margin.left - margin.right;
        height = Math.min(window.innerWidth, 700.0) - margin.top - margin.bottom;
        innerRadius = Math.min(width, height) * 0.39;
        outerRadius = innerRadius * 1.1;

      tag_id = "chart-d019c024";
      padding = 0.01;
      Names = ['Acid', 'Butter', 'Canola', 'Chocolate', 'Citrate', 'Cocoa', 'Color', 'Corn', 'Cream', 'Flavorings', 'Folic', 'Gum', 'Iron', 'Juice', 'Milk', 'Niacin', 'Oil', 'Onion', 'Potassium', 'Riboflavin', 'Rice', 'Salt', 'Sodium', 'Soy', 'Starch', 'Sugar', 'Tomato', 'Vitamin', 'Water', 'Wheat']
      colors = d3.schemeSet3;
      opacityDefault = 0.8;
      matrix = [[103434.0, 3164.0, 7812.0, 2664.0, 46357.0, 3241.0, 14895.0, 35033.0, 5073.0, 13473.0, 23222.0, 12563.0, 20954.0, 21577.0, 16398.0, 23131.0, 38608.0, 7453.0, 12192.0, 22597.0, 3776.0, 38752.0, 24600.0, 6538.0, 13746.0, 41630.0, 12526.0, 21015.0, 45866.0, 37901.0], [3164.0, 19788.0, 1254.0, 16607.0, 938.0, 12759.0, 1072.0, 6631.0, 5643.0, 1932.0, 1852.0, 1741.0, 1856.0, 716.0, 19584.0, 1958.0, 11234.0, 634.0, 428.0, 1876.0, 2481.0, 12007.0, 1446.0, 10188.0, 2142.0, 21820.0, 419.0, 956.0, 3640.0, 4814.0], [7812.0, 1254.0, 15643.0, 923.0, 2161.0, 1426.0, 1646.0, 10604.0, 1568.0, 1207.0, 4157.0, 1763.0, 3910.0, 1395.0, 4494.0, 4159.0, 25678.0, 3270.0, 522.0, 4148.0, 2985.0, 14256.0, 2504.0, 2630.0, 3572.0, 10698.0, 2200.0, 2928.0, 6312.0, 9081.0], [2664.0, 16607.0, 923.0, 30711.0, 550.0, 18237.0, 687.0, 6633.0, 3127.0, 2212.0, 1954.0, 1736.0, 2024.0, 581.0, 23320.0, 2088.0, 10306.0, 8.0, 264.0, 1994.0, 2336.0, 7230.0, 1003.0, 14408.0, 1521.0, 27335.0, 10.0, 1033.0, 1769.0, 4315.0], [46357.0, 938.0, 2161.0, 550.0, 42301.0, 782.0, 9278.0, 17462.0, 2699.0, 9370.0, 963.0, 8645.0, 861.0, 14067.0, 7802.0, 1077.0, 12179.0, 4871.0, 10946.0, 995.0, 1218.0, 17322.0, 15055.0, 2182.0, 6893.0, 19369.0, 9867.0, 6372.0, 22857.0, 3300.0], [3241.0, 12759.0, 1426.0, 18237.0, 782.0, 23485.0, 1048.0, 8969.0, 3601.0, 2434.0, 2193.0, 2906.0, 2300.0, 633.0, 20536.0, 2334.0, 13638.0, 57.0, 472.0, 2241.0, 2412.0, 8101.0, 1588.0, 11806.0, 2451.0, 25327.0, 50.0, 2067.0, 2756.0, 5037.0], [14895.0, 1072.0, 1646.0, 687.0, 9278.0, 1048.0, 24874.0, 13308.0, 2163.0, 5961.0, 828.0, 5769.0, 1157.0, 6696.0, 8636.0, 934.0, 9033.0, 2576.0, 3599.0, 911.0, 1266.0, 14117.0, 6203.0, 3439.0, 6017.0, 14282.0, 1629.0, 3899.0, 11991.0, 3739.0], [35033.0, 6631.0, 10604.0, 6633.0, 17462.0, 8969.0, 13308.0, 100064.0, 9264.0, 12075.0, 10309.0, 13964.0, 9600.0, 8310.0, 26391.0, 10425.0, 48849.0, 9492.0, 6576.0, 10292.0, 6518.0, 44157.0, 19317.0, 11950.0, 27053.0, 49964.0, 8068.0, 10152.0, 31710.0, 22969.0], [5073.0, 5643.0, 1568.0, 3127.0, 2699.0, 3601.0, 2163.0, 9264.0, 21732.0, 1994.0, 1322.0, 8838.0, 1220.0, 1386.0, 21439.0, 1436.0, 8693.0, 2230.0, 1137.0, 1326.0, 940.0, 14936.0, 3086.0, 2944.0, 3830.0, 14314.0, 1356.0, 1197.0, 8060.0, 4057.0], [13473.0, 1932.0, 1207.0, 2212.0, 9370.0, 2434.0, 5961.0, 12075.0, 1994.0, 20051.0, 372.0, 5108.0, 435.0, 7132.0, 7224.0, 454.0, 7811.0, 2627.0, 3784.0, 438.0, 1173.0, 11073.0, 8278.0, 3531.0, 4588.0, 13749.0, 2209.0, 3012.0, 12195.0, 2113.0], [23222.0, 1852.0, 4157.0, 1954.0, 963.0, 2193.0, 828.0, 10309.0, 1322.0, 372.0, 20544.0, 502.0, 18328.0, 311.0, 4943.0, 20252.0, 19307.0, 1006.0, 363.0, 19831.0, 1535.0, 11166.0, 3980.0, 2773.0, 2978.0, 13833.0, 1500.0, 9529.0, 11193.0, 29360.0], [12563.0, 1741.0, 1763.0, 1736.0, 8645.0, 2906.0, 5769.0, 13964.0, 8838.0, 5108.0, 502.0, 37146.0, 648.0, 4773.0, 15616.0, 617.0, 9083.0, 2705.0, 5016.0, 667.0, 2150.0, 14285.0, 6402.0, 2858.0, 6838.0, 16106.0, 1688.0, 4060.0, 13945.0, 2436.0], [20954.0, 1856.0, 3910.0, 2024.0, 861.0, 2300.0, 1157.0, 9600.0, 1220.0, 435.0, 18328.0, 648.0, 19878.0, 293.0, 4495.0, 18694.0, 18196.0, 932.0, 375.0, 18062.0, 1845.0, 10811.0, 4067.0, 2796.0, 2682.0, 14288.0, 916.0, 11287.0, 9613.0, 28173.0], [21577.0, 716.0, 1395.0, 581.0, 14067.0, 633.0, 6696.0, 8310.0, 1386.0, 7132.0, 311.0, 4773.0, 293.0, 63372.0, 4265.0, 380.0, 6654.0, 4773.0, 2804.0, 315.0, 1619.0, 10391.0, 4270.0, 1367.0, 3992.0, 12845.0, 9879.0, 6698.0, 27192.0, 1762.0], [16398.0, 19584.0, 4494.0, 23320.0, 7802.0, 20536.0, 8636.0, 26391.0, 21439.0, 7224.0, 4943.0, 15616.0, 4495.0, 4265.0, 97914.0, 5246.0, 31900.0, 3791.0, 3715.0, 4970.0, 3694.0, 46720.0, 10786.0, 17541.0, 11293.0, 47427.0, 3588.0, 8271.0, 19324.0, 13064.0], [23131.0, 1958.0, 4159.0, 2088.0, 1077.0, 2334.0, 934.0, 10425.0, 1436.0, 454.0, 20252.0, 617.0, 18694.0, 380.0, 5246.0, 21398.0, 19399.0, 1056.0, 461.0, 19944.0, 1479.0, 11390.0, 4080.0, 2963.0, 3112.0, 13973.0, 1662.0, 9274.0, 11724.0, 30393.0], [38608.0, 11234.0, 25678.0, 10306.0, 12179.0, 13638.0, 9033.0, 48849.0, 8693.0, 7811.0, 19307.0, 9083.0, 18196.0, 6654.0, 31900.0, 19399.0, 140290.0, 12399.0, 3739.0, 19312.0, 10470.0, 63661.0, 14781.0, 19536.0, 16416.0, 61437.0, 10445.0, 11353.0, 34964.0, 42545.0], [7453.0, 634.0, 3270.0, 8.0, 4871.0, 57.0, 2576.0, 9492.0, 2230.0, 2627.0, 1006.0, 2705.0, 932.0, 4773.0, 3791.0, 1056.0, 12399.0, 22722.0, 1122.0, 872.0, 2743.0, 22674.0, 2800.0, 3030.0, 5140.0, 11193.0, 14664.0, 351.0, 14394.0, 4407.0], [12192.0, 428.0, 522.0, 264.0, 10946.0, 472.0, 3599.0, 6576.0, 1137.0, 3784.0, 363.0, 5016.0, 375.0, 2804.0, 3715.0, 461.0, 3739.0, 1122.0, 20044.0, 392.0, 333.0, 7661.0, 10169.0, 1341.0, 3397.0, 5189.0, 1132.0, 2681.0, 11238.0, 1378.0], [22597.0, 1876.0, 4148.0, 1994.0, 995.0, 2241.0, 911.0, 10292.0, 1326.0, 438.0, 19831.0, 667.0, 18062.0, 315.0, 4970.0, 19944.0, 19312.0, 872.0, 392.0, 20411.0, 749.0, 11225.0, 4083.0, 2759.0, 2981.0, 14044.0, 1445.0, 10475.0, 11267.0, 29562.0], [3776.0, 2481.0, 2985.0, 2336.0, 1218.0, 2412.0, 1266.0, 6518.0, 940.0, 1173.0, 1535.0, 2150.0, 1845.0, 1619.0, 3694.0, 1479.0, 10470.0, 2743.0, 333.0, 749.0, 24559.0, 12718.0, 1821.0, 5567.0, 6110.0, 11891.0, 1721.0, 2095.0, 7605.0, 4919.0], [38752.0, 12007.0, 14256.0, 7230.0, 17322.0, 8101.0, 14117.0, 44157.0, 14936.0, 11073.0, 11166.0, 14285.0, 10811.0, 10391.0, 46720.0, 11390.0, 63661.0, 22674.0, 7661.0, 11225.0, 12718.0, 130753.0, 29860.0, 19204.0, 23499.0, 58587.0, 23368.0, 10533.0, 62376.0, 35990.0], [24600.0, 1446.0, 2504.0, 1003.0, 15055.0, 1588.0, 6203.0, 19317.0, 3086.0, 8278.0, 3980.0, 6402.0, 4067.0, 4270.0, 10786.0, 4080.0, 14781.0, 2800.0, 10169.0, 4083.0, 1821.0, 29860.0, 69005.0, 4527.0, 10214.0, 21151.0, 1938.0, 4403.0, 28389.0, 10050.0], [6538.0, 10188.0, 2630.0, 14408.0, 2182.0, 11806.0, 3439.0, 11950.0, 2944.0, 3531.0, 2773.0, 2858.0, 2796.0, 1367.0, 17541.0, 2963.0, 19536.0, 3030.0, 1341.0, 2759.0, 5567.0, 19204.0, 4527.0, 30886.0, 5520.0, 25681.0, 1543.0, 1545.0, 11014.0, 11253.0], [13746.0, 2142.0, 3572.0, 1521.0, 6893.0, 2451.0, 6017.0, 27053.0, 3830.0, 4588.0, 2978.0, 6838.0, 2682.0, 3992.0, 11293.0, 3112.0, 16416.0, 5140.0, 3397.0, 2981.0, 6110.0, 23499.0, 10214.0, 5520.0, 33819.0, 20005.0, 4448.0, 3168.0, 17666.0, 11108.0], [41630.0, 21820.0, 10698.0, 27335.0, 19369.0, 25327.0, 14282.0, 49964.0, 14314.0, 13749.0, 13833.0, 16106.0, 14288.0, 12845.0, 47427.0, 13973.0, 61437.0, 11193.0, 5189.0, 14044.0, 11891.0, 58587.0, 21151.0, 25681.0, 20005.0, 122054.0, 9960.0, 14997.0, 42235.0, 36057.0], [12526.0, 419.0, 2200.0, 10.0, 9867.0, 50.0, 1629.0, 8068.0, 1356.0, 2209.0, 1500.0, 1688.0, 916.0, 9879.0, 3588.0, 1662.0, 10445.0, 14664.0, 1132.0, 1445.0, 1721.0, 23368.0, 1938.0, 1543.0, 4448.0, 9960.0, 48541.0, 826.0, 21877.0, 4306.0], [21015.0, 956.0, 2928.0, 1033.0, 6372.0, 2067.0, 3899.0, 10152.0, 1197.0, 3012.0, 9529.0, 4060.0, 11287.0, 6698.0, 8271.0, 9274.0, 11353.0, 351.0, 2681.0, 10475.0, 2095.0, 10533.0, 4403.0, 1545.0, 3168.0, 14997.0, 826.0, 50442.0, 11051.0, 16430.0], [45866.0, 3640.0, 6312.0, 1769.0, 22857.0, 2756.0, 11991.0, 31710.0, 8060.0, 12195.0, 11193.0, 13945.0, 9613.0, 27192.0, 19324.0, 11724.0, 34964.0, 14394.0, 11238.0, 11267.0, 7605.0, 62376.0, 28389.0, 11014.0, 17666.0, 42235.0, 21877.0, 11051.0, 100193.0, 31149.0], [37901.0, 4814.0, 9081.0, 4315.0, 3300.0, 5037.0, 3739.0, 22969.0, 4057.0, 2113.0, 29360.0, 2436.0, 28173.0, 1762.0, 13064.0, 30393.0, 42545.0, 4407.0, 1378.0, 29562.0, 4919.0, 35990.0, 10050.0, 11253.0, 11108.0, 36057.0, 4306.0, 16430.0, 31149.0, 89913.0]];
      wrap_labels = false;
      
      ////////////////////////////////////////////////////////////
      /////////// Create scale and layout functions //////////////
      ////////////////////////////////////////////////////////////

      var colors = d3
        .scaleOrdinal()
        .domain(d3.range(Names.length))
        .range(colors);

      //A "custom" d3 chord function that automatically sorts the order of the chords in such a manner to reduce overlap
      var chord = customChordLayout()
        .padding(padding)
        .sortChords(d3.descending) //which chord should be shown on top when chords cross. Now the biggest chord is at the bottom
        .matrix(matrix);

      var arc = d3
        .arc()
        .innerRadius(innerRadius * 1.01)
        .outerRadius(outerRadius);

      var path = d3.ribbon().radius(innerRadius);

      ////////////////////////////////////////////////////////////
      ////////////////////// Create SVG //////////////////////////
      ///////////////////////////////////////////////////////////

      var svg = d3
        .select("#" + tag_id)
        .append("svg")
        .attr(
          "viewBox",
          "0 0 " +
            (width + margin.left + margin.right) +
          " " +
          (height + margin.top + margin.bottom)
        )
        .attr("preserveAspectRatio", "xMinYMin meet")
        .append("g")
        .attr(
          "transform",
          "translate(" +
            (width / 2 + margin.left) +
            "," +
            (height / 2 + margin.top) +
            ")"
        );

        d3
          .select("#" + tag_id)
          .append("span")
          .style("display", "block")
          .style("font-size", "12px")
          .style("text-align", "right")
          .style("font-family", '"Arial", sans-serif')
          .html('get <a href="https://m8.fyi/chord">chord pro</a> [<a href="https://twitter.com/shahinrostami">@ShahinRostami</a>]');

        d3
          .select("#" + tag_id)
          .select("span")
          .append("span")
          .style("font-size", "12px")
          .style("font-family", '"Arial", sans-serif')
          .html('<br>see more at <a href="https://DataCrayon.com">DataCrayon.com</a>');
        
      ////////////////////////////////////////////////////////////
      /////////////// Create the gradient fills //////////////////
      ////////////////////////////////////////////////////////////

      //Function to create the id for each chord gradient
      function getGradID(d) {
        return (
          "linkGrad-" + tag_id + "-" + d.source.index + "-" + d.target.index
        );
      }




      //Create the gradients definitions for each chord
      var grads = svg
        .append("defs")
        .selectAll("linearGradient")
        .data(chord.chords())
        .enter()
        .append("linearGradient")
        .attr("id", getGradID)
        .attr("gradientUnits", "userSpaceOnUse")
        .attr("x1", function (d, i) {
          return (
            innerRadius *
            Math.cos(
              (d.source.endAngle - d.source.startAngle) / 2 +
                d.source.startAngle -
                Math.PI / 2
            )
          );
        })
        .attr("y1", function (d, i) {
          return (
            innerRadius *
            Math.sin(
              (d.source.endAngle - d.source.startAngle) / 2 +
                d.source.startAngle -
                Math.PI / 2
            )
          );
        })
        .attr("x2", function (d, i) {
          return (
            innerRadius *
            Math.cos(
              (d.target.endAngle - d.target.startAngle) / 2 +
                d.target.startAngle -
                Math.PI / 2
            )
          );
        })
        .attr("y2", function (d, i) {
          return (
            innerRadius *
            Math.sin(
              (d.target.endAngle - d.target.startAngle) / 2 +
                d.target.startAngle -
                Math.PI / 2
            )
          );
        });

      //Set the starting color (at 0%)
      grads
        .append("stop")
        .attr("offset", "0%")
        .attr("stop-color", function (d) {
          return colors(d.source.index);
        });

      //Set the ending color (at 100%)
      grads
        .append("stop")
        .attr("offset", "100%")
        .attr("stop-color", function (d) {
          return colors(d.target.index);
        });

      ////////////////////////////////////////////////////////////
      ////////////////// Draw outer Arcs /////////////////////////
      ////////////////////////////////////////////////////////////

      var outerArcs = svg
        .selectAll("g.group")
        .data(chord.groups)
        .enter()
        .append("g")
        .attr("class", "group")
        .on("mouseover", fade(0.1, 1))
        .on("mouseout", fade(opacityDefault, opacityDefault));

      outerArcs
        .append("path")
        .style("fill", function (d) {
          return colors(d.index);
        })
        .attr("d", arc)
        .each(function (d, i) {
          //Search pattern for everything between the start and the first capital L
          var firstArcSection = /(^.+?)L/;

          //Grab everything up to the first Line statement
          var newArc = firstArcSection.exec(d3.select(this).attr("d"))[1];
          //Replace all the comma's so that IE can handle it
          newArc = newArc.replace(/,/g, " ");

          //If the end angle lies beyond a quarter of a circle (90 degrees or pi/2)
          //flip the end and start position
          if (
            (d.endAngle > (90 * Math.PI) / 180) &
            (d.startAngle < (270 * Math.PI) / 180)
          ) {
            var startLoc = /M(.*?)A/, //Everything between the first capital M and first capital A
              middleLoc = /A(.*?)0 0 1/, //Everything between the first capital A and 0 0 1
              endLoc = /0 0 1 (.*?)$/; //Everything between the first 0 0 1 and the end of the string (denoted by $)
            //Flip the direction of the arc by switching the start en end point (and sweep flag)
            //of those elements that are below the horizontal line
            var newStart = endLoc.exec(newArc)[1];
            var newEnd = startLoc.exec(newArc)[1];
            var middleSec = middleLoc.exec(newArc)[1];

            //Build up the new arc notation, set the sweep-flag to 0
            newArc = "M" + newStart + "A" + middleSec + "0 0 0 " + newEnd;
          } //if

          //Create a new invisible arc that the text can flow along
          svg
            .append("path")
            .attr("class", "hiddenArcs")
            .attr("id", "arc-" + tag_id + "-" + i)
            .attr("d", newArc)
            .style("fill", "none");
     });
          ////////////////////////////////////////////////////////////
          ////////////////// Append Names ////////////////////////////
          ////////////////////////////////////////////////////////////

          //Append the label names on the outside

          if (wrap_labels) {
            outerArcs
              .append("text")
              .attr("class", "titles")
              .attr("dy", function (d, i) {
                return (d.endAngle > (90 * Math.PI) / 180) &
                  (d.startAngle < (270 * Math.PI) / 180)
                  ? 25
                  : -16;
              })
              .append("textPath")
              .attr("startOffset", "50%")
              .style("text-anchor", "middle")
              .attr("xlink:href", function (d, i) {
                return "#arc-" + tag_id + "-" + i;
              })
              .text(function (d, i) {
                return Names[i];
              });
          } else {
            //Append the label names on the outside
            outerArcs
              .append("text")
              .each(function (d) {
                d.angle = (d.startAngle + d.endAngle) / 2;
              })
              .attr("dy", ".35em")
              .attr("class", "titles")
              .attr("text-anchor", function (d) {
                return d.angle > Math.PI ? "end" : null;
              })
              .attr("transform", function (d) {
                return (
                  "rotate(" +
                  ((d.angle * 180) / Math.PI - 90) +
                  ")" +
                  "translate(" +
                  (outerRadius + 10) +
                  ")" +
                  (d.angle > Math.PI ? "rotate(180)" : "")
                );
              })
              .text(function (d, i) {
                return Names[i];
              });
          }

          ////////////////////////////////////////////////////////////
          ////////////////// Draw inner chords ///////////////////////
          ////////////////////////////////////////////////////////////

          svg
            .selectAll("path.chord")
            .data(chord.chords)
            .enter()
            .append("path")
            .attr("class", "chord")
            .style("fill", function (d) {
              return "url(#" + getGradID(d) + ")";
            })
            .style("opacity", opacityDefault)
            .attr("d", path)
            .on("mouseover", mouseoverChord())
            .on("mouseout", mouseoutChord(opacityDefault, opacityDefault));
   
      ////////////////////////////////////////////////////////////
      ////////////////// Extra Functions /////////////////////////
      ////////////////////////////////////////////////////////////

      //Returns an event handler for fading a given chord group.
      function fade(opacityIn, opacityOut) {
        return function (d, i) {
          d3.select(this.ownerSVGElement)
            .selectAll("path.chord")
            .filter(function (d) {
              return d.source.index !== i && d.target.index !== i;
            })
            .transition()
            .style("opacity", opacityIn);

          d3.select(this.ownerSVGElement)
            .selectAll("path.chord")
            .filter(function (d) {
              return d.source.index == i || d.target.index == i;
            })
            .transition()
            .style("opacity", opacityOut);

            
        };
      } //fade

      //Highlight hovered over chord
      function mouseoverChord() {
        return function (d, i) {

        d3.select(this.ownerSVGElement)
          .selectAll("path.chord")
          .transition()
          .style("opacity", 0.1);
        //Show hovered over chord with full opacity
        d3.select(this).transition().style("opacity", 1);

        tippy_content = "<span style='font-weight:900'>" +
            Names[d.source.index] +
            "</span> and <span style='font-weight:900'>" +
            Names[d.target.index] +
            "</span><br>occur together in <span style='font-weight:900'>" +
            d.source.value +
            "</span> instances";
   
        if(this._tippy == null)
        {
          tippy(this, {
            allowHTML: true,
            followCursor: true,
            content: tippy_content,
            size: "large",
            arrow: true,
          });
        }

        };
        
      } //fade

      //Bring all chords back to default opacity
      function mouseoutChord(opacityIn, opacityOut) {
        return function (d, i) {
        d3.select(this.ownerSVGElement)
          .selectAll("path.chord")
          .transition()
          .style("opacity", opacityOut);
        };
        //Set opacity back to default for all
      } //function mouseoutChord


        };
        document.body.appendChild(script2);
      };

      document.body.appendChild(script);
    </script>
    <script></script>
  </body>
</html>
